# Integration Architecture Diagram

## ğŸ—ï¸ System Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          SERBIZYU PLATFORM ARCHITECTURE                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ORDERS DOMAIN                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                            â”‚
â”‚  â”‚   ORDER     â”‚  status: pending â†’ in_progress â†’ completed               â”‚
â”‚  â”‚   Model     â”‚  payment_status: pending â†’ paid                          â”‚
â”‚  â”‚             â”‚  created_at, completed_at                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                           â”‚
â”‚         â”‚                                                                  â”‚
â”‚         â”œâ”€â”€â–º 1:1 WorkInstance (START WORK)                               â”‚
â”‚         â”œâ”€â”€â–º 1:1 ServiceReview (LEAVE REVIEW) â† NEW                      â”‚
â”‚         â”œâ”€â”€â–º 1:1 Service                                                 â”‚
â”‚         â”œâ”€â”€â–º 1:1 Payment                                                 â”‚
â”‚         â”œâ”€â”€â–º M:M Messages (activity)                                     â”‚
â”‚         â”‚                                                                 â”‚
â”‚         â””â”€â”€â–º Relationships                                                â”‚
â”‚              â”œâ”€ belongsTo(User as buyer)                                 â”‚
â”‚              â”œâ”€ belongsTo(User as seller)                                â”‚
â”‚              â””â”€ hasOne(ServiceReview) â† NEW                              â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  WORK DOMAIN                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                      â”‚
â”‚  â”‚  WORK INSTANCE   â”‚  Owned by ORDER                                     â”‚
â”‚  â”‚     Model        â”‚  status: pending â†’ in_progress â†’ completed          â”‚
â”‚  â”‚                  â”‚  started_at, completed_at                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                     â”‚
â”‚           â”‚                                                               â”‚
â”‚           â”œâ”€â”€â–º belongsTo(Order) â† KEY RELATIONSHIP                      â”‚
â”‚           â”œâ”€â”€â–º 1:M WorkInstanceStep                                      â”‚
â”‚           â””â”€â”€â–º M:M ActivityThread                                        â”‚
â”‚                                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚  â”‚  WORK INSTANCE STEP          â”‚  What the seller must do               â”‚
â”‚  â”‚     (Individual Steps)       â”‚  status: pending â†’ in_progress â†’ âœ“     â”‚
â”‚  â”‚                              â”‚  step_index, started_at, completed_at   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
â”‚             â”‚                                                             â”‚
â”‚             â”œâ”€â”€â–º belongsTo(WorkInstance)                                â”‚
â”‚             â”œâ”€â”€â–º 1:M ActivityThread (per step discussion)               â”‚
â”‚             â””â”€â”€â–º Timestamps: started_at, completed_at                   â”‚
â”‚                                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                         â”‚
â”‚  â”‚  ACTIVITY THREAD             â”‚  Discussion space per step             â”‚
â”‚  â”‚     (Per-Step Discussion)    â”‚  Messages between buyer & seller       â”‚
â”‚  â”‚                              â”‚  Media attachments allowed             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                         â”‚
â”‚             â”‚                                                             â”‚
â”‚             â”œâ”€â”€â–º 1:M ActivityMessage                                     â”‚
â”‚             â”œâ”€â”€â–º M:M ActivityAttachment                                  â”‚
â”‚             â””â”€â”€â–º Metadata: visibility, type                              â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  REVIEWS DOMAIN â† NEW SYSTEM                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚
â”‚  â”‚  SERVICE REVIEW        â”‚  âœ… NEWLY CREATED                            â”‚
â”‚  â”‚     Model              â”‚  rating: 1-5, comment, visibility            â”‚
â”‚  â”‚                        â”‚  Created after work is COMPLETED             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚             â”‚                                                            â”‚
â”‚             â”œâ”€â”€â–º belongsTo(Order) â† LINK TO ORDER                      â”‚
â”‚             â”œâ”€â”€â–º belongsTo(Service)                                    â”‚
â”‚             â”œâ”€â”€â–º belongsTo(User as reviewer) [BUYER]                   â”‚
â”‚             â”œâ”€â”€â–º belongsTo(User as reviewed_user_id) [SELLER]         â”‚
â”‚             â”‚                                                           â”‚
â”‚             â””â”€â”€â–º Attributes:                                           â”‚
â”‚                  â”œâ”€ rating (1-5)                                       â”‚
â”‚                  â”œâ”€ comment (optional text)                            â”‚
â”‚                  â”œâ”€ visibility (public/private)                        â”‚
â”‚                  â”œâ”€ helpful_count (upvotes)                            â”‚
â”‚                  â”œâ”€ flagged (moderation)                               â”‚
â”‚                  â””â”€ timestamps                                         â”‚
â”‚                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SERVICE MODEL (UPDATED)                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                            â”‚
â”‚  â”‚  SERVICE   â”‚  â† Now tracks ratings                                    â”‚
â”‚  â”‚            â”‚  average_rating, review_count (NEW)                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                                           â”‚
â”‚         â”‚                                                                â”‚
â”‚         â””â”€â”€â–º 1:M ServiceReview (all reviews for this service)           â”‚
â”‚              â”œâ”€ publicReviews() scope                                   â”‚
â”‚              â””â”€ getAverageRating() (computed from reviews)              â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  USER MODEL (UPDATED)                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                              â”‚
â”‚  â”‚  USER    â”‚  Seller Profile Enhancements:                              â”‚
â”‚  â”‚          â”‚  - seller_average_rating (decimal)                         â”‚
â”‚  â”‚          â”‚  - seller_review_count (integer)                           â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                                            â”‚
â”‚       â”‚                                                                  â”‚
â”‚       â”œâ”€â”€â–º writtenReviews() - Reviews BY this user (as buyer)           â”‚
â”‚       â””â”€â”€â–º receivedReviews() - Reviews OF this user (as seller)         â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow: Order â†’ Work â†’ Review

```
TIMELINE OF A SERVICE ORDER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. BUYER INITIATES
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Browse & Select Service â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Create Order               â”‚
   â”‚ - order.status = pending   â”‚
   â”‚ - order.payment_status = ? â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Payment (if pay_first = true)        â”‚
   â”‚ - order.payment_status = paid        â”‚
   â”‚ - order.status = in_progress âœ“       â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚

2. SELLER WORKS
                â”‚
                â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ WorkInstance Created (1:1 with Order)  â”‚
   â”‚ - workInstance.status = pending        â”‚
   â”‚ - workInstance.order_id = [order_id]   â”‚
   â”‚ - workInstanceSteps created (copies)   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Seller Completes Each Step:        â”‚
   â”‚ - POST /orders/{id}/work/steps/... â”‚
   â”‚ - Start: step.status = in_progress â”‚
   â”‚ - Complete: step.status = âœ“        â”‚
   â”‚ - Current: workInstance.current_++ â”‚
   â”‚ - Progress: x/n steps done         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ All Steps Complete? YES                    â”‚
   â”‚ - workInstance.status = completed âœ“        â”‚
   â”‚ - workInstance.completed_at = now()        â”‚
   â”‚ - âœ… ORDER.status = completed â† KEY EVENT â”‚
   â”‚ - âœ… ORDER.is_reviewed = false             â”‚
   â”‚ - Send: "Work complete! Ready to review?"  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚

3. BUYER REVIEWS
                â”‚
                â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Check Eligibility:             â”‚
   â”‚ - Order.status = completed âœ“   â”‚
   â”‚ - Order.serviceReview = null   â”‚
   â”‚ - Buyer = logged-in user       â”‚
   â”‚ âœ… Show "Leave Review" button   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ GET /orders/{id}/review/create       â”‚
   â”‚ Show review form:                    â”‚
   â”‚ - 5-star rating selector             â”‚
   â”‚ - Comment textarea                   â”‚
   â”‚ - Cancel/Submit buttons              â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ POST /orders/{id}/review                   â”‚
   â”‚ Create ServiceReview:                      â”‚
   â”‚ - order_id, service_id                     â”‚
   â”‚ - reviewer_id (buyer), reviewed_user_id    â”‚
   â”‚ - rating, comment                          â”‚
   â”‚ - visibility: public/private               â”‚
   â”‚ - Check: Unique(order_id, reviewer_id)     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ âœ… EVENT: ReviewCreated                  â”‚
   â”‚ Triggered by model observer/event         â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                â”‚
        â–¼                â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ UpdateService    â”‚  â”‚ UpdateUserRating â”‚
   â”‚ Rating           â”‚  â”‚ Listener         â”‚
   â”‚ Listener         â”‚  â”‚                  â”‚
   â”‚                  â”‚  â”‚ seller_avg_rate  â”‚
   â”‚ service.avg_rate â”‚  â”‚ = avg(reviews)   â”‚
   â”‚ = avg(reviews)   â”‚  â”‚                  â”‚
   â”‚ service.review   â”‚  â”‚ seller_review_   â”‚
   â”‚ _count++         â”‚  â”‚ count++          â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Order.is_reviewed = true           â”‚
   â”‚ Seller notified of new review      â”‚
   â”‚ Buyer can see review on service    â”‚
   â”‚ Seller ratings updated             â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ğŸ“ Route Structure Before & After

### BEFORE (Current - Problematic)
```
/work-instances/{workInstance}              â† Flat, no context
â”œâ”€ /steps/{step}/start                      â† Where does it belong?
â”œâ”€ /steps/{step}/complete                   â† Not tied to order
â””â”€ /steps/{step}/activities                 â† Orphaned

/orders/{order}                             â† No link to work
```

### AFTER (Proposed - Hierarchical)
```
/orders/{order}                             â† Main context
â”œâ”€ /work                                    â† Work belongs to order
â”‚  â”œâ”€ /steps/{step}/start                   â† Clear hierarchy
â”‚  â”œâ”€ /steps/{step}/complete                â† Related to order
â”‚  â””â”€ /activities                           â† All work activities
â”‚
â””â”€ /review                                  â† Review tied to order
   â”œâ”€ /create                               â† Only after completion
   â”œâ”€ /store
   â”œâ”€ /{review}
   â”œâ”€ /{review}/edit
   â”œâ”€ /{review}/update
   â””â”€ /{review}/delete
```

---

## ğŸ”— Database Relationship Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USERS                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ id (PK)â”‚ name     â”‚ seller_avg_rate  â”‚ seller_review_count â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚      â–²                â–²                       â–²                  â”‚
â”‚      â”‚ (buyer_id)     â”‚ (seller_id)          â”‚ (reviewer/seller) â”‚
â”‚      â”‚                â”‚                       â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                â”‚                       â”‚
       â”‚                â”‚                       â”‚
       â”‚                â”‚                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                â”‚                â”‚   SERVICE_REVIEWS (NEW)          â”‚
       â”‚                â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                  â”‚
       â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚           â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
       â”‚    â”‚   ORDERS    â”‚  â”‚           â”‚ â”‚ order_id(FK)â”‚ service_id   â”‚  â”‚
       â”‚    â”‚  (PK: id)   â”‚  â”‚           â”‚ â”‚ (unique)    â”‚ (FK)         â”‚  â”‚
       â”‚    â”‚             â”‚  â”‚           â”‚ â”‚             â”‚              â”‚  â”‚
       â””â”€â”€â”€â”€â”¤ buyer_idâ”€â”€â”€â”˜   â”‚           â”‚ â”‚ reviewer_id â”œâ”€â”€â”€â”€â”€â”€â”       â”‚  â”‚
            â”‚ seller_idâ”€â”€â”€â”€â”€â”€â”¤           â”‚ â”‚ (FK)        â”‚      â”‚       â”‚  â”‚
            â”‚ service_idâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚             â”‚      â”‚       â”‚  â”‚
            â”‚ status         â”‚       â”‚   â”‚ â”‚ rating      â”‚      â”‚       â”‚  â”‚
            â”‚ is_reviewed    â”‚       â”‚   â”‚ â”‚ comment     â”‚      â”‚       â”‚  â”‚
            â”‚ (new)          â”‚       â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜       â”‚  â”‚
            â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚ reviewed_user_id â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
                 â”‚                   â”‚   â”‚ (FK - seller)                  â”‚  â”‚
                 â”‚ (1:1)             â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                   â”‚             â–²
                 â–¼                   â”‚             â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚             â”‚
       â”‚  WORK_INSTANCES      â”‚      â”‚             â”‚
       â”‚  (PK: id)            â”‚      â”‚             â”‚
       â”‚                      â”‚      â”‚             â”‚
       â”‚ order_id â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚             â”‚
       â”‚ workflow_template_id â”‚      â”‚             â”‚
       â”‚ status               â”‚      â”‚             â”‚
       â”‚ current_step_index   â”‚      â”‚             â”‚
       â”‚ started_at           â”‚      â”‚             â”‚
       â”‚ completed_at         â”‚      â”‚             â”‚
       â”‚ (1:1)                â”‚      â”‚             â”‚
       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚             â”‚
            â”‚                         â”‚             â”‚
            â”‚ (1:M)                   â”‚             â”‚
            â–¼                         â”‚             â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚             â”‚
       â”‚ WORK_INSTANCE_STEP â”‚         â”‚             â”‚
       â”‚ (PK: id)           â”‚         â”‚             â”‚
       â”‚                    â”‚         â”‚             â”‚
       â”‚ work_instance_id   â”‚         â”‚             â”‚
       â”‚ step_index         â”‚         â”‚             â”‚
       â”‚ status             â”‚         â”‚             â”‚
       â”‚ started_at         â”‚         â”‚             â”‚
       â”‚ completed_at       â”‚         â”‚             â”‚
       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚             â”‚
            â”‚                         â”‚             â”‚
            â”‚ (1:M)                   â”‚             â”‚
            â–¼                         â”‚             â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚             â”‚
       â”‚ ACTIVITY_THREAD      â”‚       â”‚             â”‚
       â”‚ (Discussion space)   â”‚       â”‚             â”‚
       â”‚ PK: id               â”‚       â”‚             â”‚
       â”‚ work_instance_step_idâ”œâ”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
       â”‚ creator_id           â”‚                     â”‚
       â”‚ (1:M messages)       â”‚                     â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
                                                   â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚      SERVICES        â”‚
       â”‚  (PK: id)            â”‚
       â”‚                      â”‚
       â”‚ title                â”‚
       â”‚ price                â”‚
       â”‚ average_rating(NEW)  â”‚
       â”‚ review_count(NEW)    â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Key Integration Points (Critical Code Paths)

### Integration Point 1: Work Completion
```
WorkInstanceController.completeStep()
    â†“
if (allStepsCompleted) {
    $workInstance->status = 'completed'
    â†“
    âœ… $order->status = 'completed'   â† CRITICAL: Unblock review
    â†“
    EVENT: OrderCompleted($order)
        â†“
        Notify buyer: "Ready to review!"
        Enable review button in UI
}
```

### Integration Point 2: Review Creation
```
ServiceReviewController.store()
    â†“
ServiceReview::create([...])
    â†“
EVENT: ReviewCreated($review)
    â”œâ”€ UpdateServiceRating::handle()
    â”‚  â””â”€ Service.average_rating = avg(rating)
    â”‚  â””â”€ Service.review_count = count(reviews)
    â”‚
    â””â”€ UpdateUserRating::handle()
       â””â”€ User.seller_average_rating = avg(rating)
       â””â”€ User.seller_review_count = count(reviews)
    â†“
UI Updates:
â”œâ”€ Service show page displays new rating
â”œâ”€ Seller profile shows new rating
â””â”€ Review appears in reviews list
```

### Integration Point 3: Route Restructuring
```
OLD: /work-instances/{id}
        â†“
        Middleware redirect to new route
        â†“
NEW: /orders/{order_id}/work
        â†“
    Both routes work (backward compatible)
```

---

## ğŸ” Authorization Rules Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Action             â”‚ Buyer   â”‚ Seller â”‚ Other  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ View Work Progress â”‚ âœ… YES  â”‚ âœ… YES â”‚ âŒ NO  â”‚
â”‚ Start Step         â”‚ âŒ NO   â”‚ âœ… YES â”‚ âŒ NO  â”‚
â”‚ Complete Step      â”‚ âŒ NO   â”‚ âœ… YES â”‚ âŒ NO  â”‚
â”‚ Create Review      â”‚ âœ… YES* â”‚ âŒ NO  â”‚ âŒ NO  â”‚
â”‚ View Review        â”‚ âœ… YES  â”‚ âœ… YES â”‚ âœ… **  â”‚
â”‚ Edit Review        â”‚ âœ… YES* â”‚ âŒ NO  â”‚ âŒ NO  â”‚
â”‚ Delete Review      â”‚ âœ… YES* â”‚ âŒ NO  â”‚ âŒ NO  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

* = Order must be COMPLETED
* = Within time limit (edit: 30 days, delete: 7 days)
** = Only if public visibility
```

---

## ğŸ“Š State Machine Diagram

### Order Status Flow (WITH Review Integration)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PENDING  â”‚  (waiting for payment if pay_first=true)
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  IN_PROGRESS    â”‚  (payment received or optional payment)
â”‚  Work Started   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ (seller completes all steps)
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   COMPLETED âœ“   â”‚  â† CAN NOW LEAVE REVIEW
â”‚  Work Finished  â”‚  â† Review NOT required
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”œâ”€â–º No Review Needed (buyer skips)
     â”‚
     â””â”€â–º âœ… ServiceReview Created
         â””â”€â–º Ratings Updated
         â””â”€â–º Seller Notified
```

### Review Process (Per-Order)
```
Order COMPLETED
     â”‚
     â”œâ”€ No Review â†’ is_reviewed = false
     â”‚
     â””â”€ Review Created â†’ is_reviewed = true
                    â”‚
                    â”œâ”€ Updates service.average_rating
                    â”œâ”€ Updates service.review_count
                    â”œâ”€ Updates seller.seller_average_rating
                    â””â”€ Updates seller.seller_review_count
```

---

## ğŸ¬ Screenshot Flow (UI Navigation)

```
1. ORDER DETAIL PAGE
   /orders/{order_id}
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Order #123                       â”‚
   â”‚ Service: House Cleaning          â”‚
   â”‚ Status: COMPLETED âœ“              â”‚
   â”‚ Payment: $100 (Paid)             â”‚
   â”‚                                  â”‚
   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚ â”‚ Work Progress Section         â”‚ â”‚  â† Shows embedded work
   â”‚ â”‚ (embedded /orders/123/work)   â”‚ â”‚
   â”‚ â”‚                               â”‚ â”‚
   â”‚ â”‚ Step 1: Inspection âœ“ (100%)   â”‚ â”‚
   â”‚ â”‚ Step 2: Cleaning âœ“ (100%)     â”‚ â”‚
   â”‚ â”‚ Step 3: Finalize âœ“ (100%)     â”‚ â”‚
   â”‚ â”‚                               â”‚ â”‚
   â”‚ â”‚ [View Details] [Activities]   â”‚ â”‚
   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â”‚                                  â”‚
   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚ â”‚ âœ… WORK COMPLETE!            â”‚ â”‚  â† Review section
   â”‚ â”‚ Ready to leave a review?      â”‚ â”‚
   â”‚ â”‚                               â”‚ â”‚
   â”‚ â”‚ [Leave Review] [Skip]         â”‚ â”‚
   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. REVIEW FORM
   /orders/{order_id}/review/create
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Leave a Review               â”‚
   â”‚                              â”‚
   â”‚ Service: House Cleaning      â”‚
   â”‚ Provider: John Doe           â”‚
   â”‚                              â”‚
   â”‚ Rating:    â˜…â˜…â˜…â˜…â˜…           â”‚  â† Click to select
   â”‚                              â”‚
   â”‚ Your Review:                 â”‚
   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚ â”‚ Amazing service!         â”‚ â”‚
   â”‚ â”‚ Very professional...     â”‚ â”‚
   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â”‚                              â”‚
   â”‚ [Submit]  [Cancel]           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3. SERVICE PAGE (Updated with Reviews)
   /services/{id}
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ House Cleaning Service       â”‚
   â”‚ â˜…â˜…â˜…â˜…â˜† 4.5/5 (24 reviews)    â”‚  â† Rating from reviews
   â”‚ by John Doe                  â”‚
   â”‚ $100/session                 â”‚
   â”‚                              â”‚
   â”‚ Reviews                      â”‚
   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚ â”‚ â˜…â˜…â˜…â˜…â˜… Jane Smith        â”‚ â”‚
   â”‚ â”‚ "Excellent work!"        â”‚ â”‚
   â”‚ â”‚ 2 weeks ago              â”‚ â”‚
   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
   â”‚ â”‚ â˜…â˜…â˜…â˜…â˜† Mike Jones        â”‚ â”‚
   â”‚ â”‚ "Good but expensive"     â”‚ â”‚
   â”‚ â”‚ 3 weeks ago              â”‚ â”‚
   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

4. SELLER PROFILE (With Ratings)
   /users/{seller_id}
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ John Doe                      â”‚
   â”‚ â­ 4.5/5 (24 reviews)        â”‚  â† Seller rating
   â”‚ Member since 2024             â”‚
   â”‚                               â”‚
   â”‚ Services: 12                  â”‚
   â”‚ Completed Orders: 156         â”‚
   â”‚                               â”‚
   â”‚ Recent Reviews Received       â”‚
   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
   â”‚ â”‚ â˜…â˜…â˜…â˜…â˜… Jane Smith        â”‚  â”‚
   â”‚ â”‚ "Best cleaner ever!"     â”‚  â”‚
   â”‚ â”‚ 2 weeks ago              â”‚  â”‚
   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Diagram Complete** âœ…

All relationships, flows, and integration points are visually mapped and ready for implementation!
